<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>

    <style>
      body {
        font-family: sf pro text, -apple-system, BlinkMacSystemFont, Roboto,
          segoe ui, Helvetica, Arial, sans-serif, apple color emoji,
          segoe ui emoji, segoe ui symbol;
        font-weight: 400;
        line-height: 22.4px;
        font-size: 16px;
      }
      p,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      ul,
      ol {
        font-size: 16px;
        font-weight: 400;
      }
      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-width: none;
      }
      code {
        background-color: #fff;
        border: 1px solid #d1d7dc;
        color: #b4690e;
        font-size: 90%;
        padding: 0.2rem 0.4rem;
      }
      .quiz-content {
        padding: 2.4rem;
        word-break: break-word;
        max-width: 86rem;
        margin: 0 auto;
      }
      .quiz-container {
        margin: 0 auto;
        max-width: 84rem;
        padding: 0;
      }
      .question {
        margin-bottom: 5rem;
      }
      .question span {
        font-size: 24px;
        font-weight: 700;
      }
      .question-prompt {
        margin-top: 0.8rem;
        font-weight: 700;
      }
      .question-answer {
        margin-top: 1.6rem;
        padding-left: 0;
        box-sizing: border-box;
      }
      .question-answer label {
        max-width: 80rem;
        position: relative;
        cursor: pointer;
        display: flex;
        min-width: 18rem;
        border: solid #1c1d1f 2px;
      }
      .question-answer div {
        display: flex;
        align-items: center;
        padding: 0.5rem;
        width: 100%;
      }
      .question-answer div:hover {
        background-color: #f5f5f5;
      }
      .question-answer input {
        display: none;
      }
      .question-answer span {
        width: 1rem;
        height: 1rem;
        margin-right: 1.6rem;
        top: 0;
        border-radius: 50%;
        display: inline-block;
        flex-shrink: 0;
        border: 0.2rem solid #1c1d1f;
        position: relative;
      }
      .selected {
        background: #1c1d1f;
        box-shadow: 0 0 0 0.4rem #fff inset;
      }
      .score {
              position: fixed;
            }
    </style>
  </head>

  <body onload="main()">
    <div id="score" class="score">
      <span>Score: N/A of N/A</span>
    </div>
    <div id="quiz-container" class="quiz-content"></div>

    <script>
      const quizData = {"pass_percent": 70, "questions": [{"_class": "assessment", "id": 27422896, "assessment_type": "multiple-choice", "prompt": {"question": "<p>How do you run previous terminal commands without re-writing them? </p>", "relatedLectureIds": "", "feedbacks": ["Try again.", "Try again.", "The up key is a very handy shortcut. Use it to run previous commands without re-writing them. "], "answers": ["<p>The left key</p>", "<p>The right key</p>", "<p>The up key</p>"]}, "correct_response": ["c"], "section": "", "question_plain": "How do you run previous terminal commands without re-writing them?", "related_lectures": []}, {"_class": "assessment", "id": 27422882, "assessment_type": "multiple-choice", "prompt": {"question": "<p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2020-12-20_21-37-16-767f40b1828fee7a85ee81e7e55615f2.png\"></p><p><br></p><p>Why does this class get an error?&nbsp; </p>", "answers": ["<p>The file name is not the same as the class name. </p>", "<p>It's missing the <code>main()</code> method. </p>", "<p>The class doesn't have any code. </p>"], "feedbacks": ["Yes. The file name must be consistent with the class name. ", "Not all classes need to have it. ", "A class can be empty. "], "relatedLectureIds": ""}, "correct_response": ["a"], "section": "", "question_plain": "Why does this class get an error?&nbsp;", "related_lectures": []}, {"_class": "assessment", "id": 27422884, "assessment_type": "multiple-choice", "prompt": {"question": "<p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2020-12-20_21-43-42-6fcf51be635c80b1256ef3ccd6cab08b.png\"></p><p>There is no error. But, do you see a problem?</p>", "relatedLectureIds": "", "feedbacks": ["Are you sure? What's the naming convention for a class? ", "Every class needs to be in CamelCase format."], "answers": ["<p>Nope, nothing to see here. </p>", "<p>The class name should be <code>CamelCase</code> (Survey)</p>"]}, "correct_response": ["b"], "section": "", "question_plain": "There is no error. But, do you see a problem?", "related_lectures": []}, {"_class": "assessment", "id": 27422888, "assessment_type": "multiple-choice", "prompt": {"question": "<p>What's the output of this code?</p><pre class=\"prettyprint linenums\">public class Survey {\n    public static void main(String[] args) {\n        System.out.println(\"Hi, what's your name?\");\n        System.out.println(\"How old are you?\");\n\n    }\n}</pre>", "relatedLectureIds": "", "feedbacks": ["println( ) prints each message on a new line. ", "println( ) prints each message on a new line. ", ""], "answers": ["<p><code>&gt;&gt;Hi, what's your name?</code></p><p><code>&gt;&gt;How old are you?</code> </p>", "<p><code>&gt;&gt;Hi, what's your name?&nbsp; &nbsp;How old are you?</code> </p>", "<p><code>&gt;&gt;ERROR!</code> </p>"]}, "correct_response": ["a"], "section": "", "question_plain": "What's the output of this code?public class Survey {\n    public static void main(String[] args) {\n        System.out.println(\"Hi, what's your name?\");\n        System.out.println(\"How old are you?\");\n\n    }\n}", "related_lectures": []}, {"_class": "assessment", "id": 27422890, "assessment_type": "multiple-choice", "prompt": {"question": "<p>This code doesn't compile. Why? </p><pre class=\"prettyprint linenums\">public class Survey {\n    public static void main(String[] args) {\n        System.out.println(\"Hi, what's your name?\")\n        System.out.println(\"How old are you?\")\n    }\n}</pre>", "answers": ["<p>This is not Java</p>", "<p>Missing curly brackets</p>", "<p>Missing semi-colons</p>", "<p>The main method is written wrong. </p>"], "feedbacks": ["It is Java.", "The curly brackets are there.", "Every line of code needs a semi-colon at the end. ", "This is hardly the case, because we can use VSCode to auto-complete it. "], "relatedLectureIds": ""}, "correct_response": ["c"], "section": "", "question_plain": "This code doesn't compile. Why? public class Survey {\n    public static void main(String[] args) {\n        System.out.println(\"Hi, what's your name?\")\n        System.out.println(\"How old are you?\")\n    }\n}", "related_lectures": []}, {"_class": "assessment", "id": 27422894, "assessment_type": "multiple-choice", "prompt": {"question": "<p>This command:</p><p><code>javac &lt;file-name&gt;.java</code> </p>", "relatedLectureIds": "", "answers": ["<p>runs the compiled code.</p>", "<p>compiles the code. </p>"], "feedbacks": ["'java' runs the compiled code. ", "'javac' compiles the code."]}, "correct_response": ["b"], "section": "", "question_plain": "This command:javac &lt;file-name&gt;.java", "related_lectures": []}, {"_class": "assessment", "id": 51764612, "assessment_type": "multiple-choice", "prompt": {"question": "<p>This command:</p><p><code>java &lt;filename&gt;</code> </p>", "relatedLectureIds": "", "feedbacks": ["", ""], "answers": ["<p>runs the compiled code</p>", "<p>compiles the code</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "This command:java &lt;filename&gt;", "related_lectures": []}, {"_class": "assessment", "id": 51764564, "assessment_type": "multiple-choice", "prompt": {"question": "<p>Will this terminal command work?</p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2022-10-05_06-19-51-71ac27b49ddc50f4396a96001618eab2.png\">", "relatedLectureIds": "", "feedbacks": ["There is no HelloJava.java file inside the Java Bootcamp folder. The file is inside section one.", "The terminal tries to compile a HelloJava.java file inside Java Bootcamp. There is no HelloJava.java file inside the Java Bootcamp folder. The file is inside section one."], "answers": ["<p>Yes</p>", "<p>No</p>"]}, "correct_response": ["b"], "section": "", "question_plain": "Will this terminal command work?", "related_lectures": []}, {"_class": "assessment", "id": 51764604, "assessment_type": "multiple-choice", "prompt": {"question": "<p>Will this terminal command work?</p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2022-10-05_06-27-43-f8259b097e9f0a9f062012aed5660e6a.png\">", "relatedLectureIds": "", "feedbacks": ["Because Visual Studio Code launched the section one folder, the terminal will automatically point to section one. section one is the exact folder that contains your Java file, so compiling HelloJava.java from there will definitely work.", "Why not? The terminal points to section one, which is the exact folder that contains your Java file."], "answers": ["<p>Yes</p>", "<p>No</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "Will this terminal command work?", "related_lectures": []}]};
      var correct = 0;
      var total = 0;
      const questionData = quizData.questions
      const passPercent = quizData.pass_percent

      function main() {
        total = questionData.length;

        var questions = [];
        for (var i = 0; i < questionData.length; i++) {
          var question = questionData[i];
          var questionText = question.prompt.question;
          var answers = question.prompt.answers;
          var correctAnswer = question.correct_response[0];
          var correctAnswerText = answers[correctAnswer.charCodeAt(0) - 97];
          var questionObj = {
            question: questionText,
            correctAnswer: correctAnswerText,
            answers: answers,
            id: question.id,
          };
          questions.push(questionObj);
        }

        updateScore();

        // display the questions
        var questionsContainer = document.getElementById("quiz-container");
        for (var i = 0; i < questions.length; i++) {
          var question = questions[i];
          var questionElement = document.createElement("form");
          questionElement.className = "question";
          questionElement.innerHTML =
            "<span>Question " +
            (i + 1) +
            ":</span>" +
            '<div class="question-prompt">' +
            question.question +
            "</div>";
          questionElement.id = question.id;
          questionElement.classList.add("quiz-container");
          var answersElement = document.createElement("ul");
          answersElement.className = "answers";
          for (var j = 0; j < question.answers.length; j++) {
            var answer = question.answers[j];
            var answerElement = document.createElement("li");
            answerElement.className = "answer";
            answerElement.innerHTML =
              '<label for="input-' +
              question.id +
              "-" +
              j +
              '"><div onclick="select(' +
              question.id +
              ", " +
              j +
              ')"><span></span><input id="input-' +
              question.id +
              "-" +
              j +
              '" type="radio" name="question' +
              i +
              '" value="' +
              j +
              '">' +
              answer +
              "</input></div></label>";
            answerElement.classList.add("question-answer");
            answersElement.appendChild(answerElement);
          }

          questionElement.appendChild(answersElement);

          // add a submit button
          var submitButton = document.createElement("button");
          submitButton.className = "submit";
          submitButton.innerHTML = "Submit";
          submitButton.classList.add("submit-button");

          submitButton.addEventListener("click", function (e) {
            e.preventDefault();
            var questionElement = e.target.parentElement;
            var questionId = questionElement.id;
            var question = questions.filter(function (q) {
              return q.id == questionId;
            })[0];

            // set the border color of all answers to black
            var answers = questionElement.getElementsByClassName("answer");
            for (var i = 0; i < answers.length; i++) {
              console.log(answers[i]);
              answers[i].children[0].style.borderColor = "#1c1d1f";
            }

            var answer = questionElement.querySelector(
              'input[type="radio"]:checked'
            );
            if (answer) {
              var answerIndex = answer.value;
              var answerText = question.answers[answerIndex];
              if (answerText == question.correctAnswer) {
                answer.parentElement.parentElement.style.borderColor =
                  "limegreen";
                // alert("Correct!");
                correct++;
                updateScore();
              } else {
                answer.parentElement.parentElement.style.borderColor = "red";
                // alert("Incorrect!");
              }
            } else {
              alert("Please select an answer.");
            }
          });

          // add button
          questionElement.appendChild(submitButton);

          questionsContainer.appendChild(questionElement);
        }
      }

      function select(question, answer) {
        var questionElement = document.getElementById(question);
        var answers = questionElement.getElementsByClassName("answer");
        for (var i = 0; i < answers.length; i++) {
          var span = answers[i].children[0].children[0].children[0];
          var input = answers[i].children[0].children[0].children[1];
          span.classList.remove("selected");
          input.checked = false;
        }
        var span = answers[answer].children[0].children[0].children[0];
        var input = answers[answer].children[0].children[0].children[1];
        span.classList.add("selected");
        input.checked = true;
      }

      function updateScore() {
        var scoreElem = document.getElementById("score");
        const score = (correct / total) * 100;
        scoreElem.innerHTML = "Score: " + score + "/" + passPercent + "%";
      }
    </script>
  </body>
</html>
