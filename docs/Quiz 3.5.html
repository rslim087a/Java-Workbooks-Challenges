<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>

    <link rel="stylesheet" href="quiz-styles.css">
  </head>

  <body onload="main()">
    <a href="https://rslim087a.github.io/Java-Workbooks-Challenges/" class="back-button">‚Üê Back</a>    <div id="score" class="score">
      <span>Score: N/A of N/A</span>
    </div>
    <div id="quiz-container" class="quiz-content"></div>

    <script>
      const quizData = {"pass_percent": 70, "questions": [{"_class": "assessment", "id": 30380756, "assessment_type": "multiple-choice", "prompt": {"answers": ["<p>Yes</p>"], "feedbacks": [""], "relatedLectureIds": "", "question": "<p>You learned that the not <code>!</code> operator reverses the boolean result. </p><p><strong>Example 1:</strong></p><p>1. The first boolean is <code>true</code>.</p><p>2. The <code>!</code> operator reverses it to <code>false</code>. </p><p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-11_00-27-42-2b705345de5a92ac81600646f59e3583.gif\"></p><p><strong>Example 2:</strong></p><p>1. The first comparison is <code>true</code>.</p><p>2. The <code>!</code> operator reverses it to <code>false</code>. </p><p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-11_00-24-38-7b4d9abd4acc7a17d95c3c16365bdb09.gif\"></p><p><strong>Example 3:</strong></p><p>1. The first logical comparison is <code>true</code>.</p><p>2. The <code>!</code> operator reverses it to <code>false</code>. </p><p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-11_00-26-17-4087d9b194a88e53b80efa24d14fc63c.gif\"></p><p>If you're ready for the Quiz, click \"Yes\".</p>"}, "correct_response": ["a"], "section": "", "question_plain": "You learned that the not ! operator reverses the boolean result. Example 1:1. The first boolean is true.2. The ! operator reverses it to false. Example 2:1. The first comparison is true.2. The ! operator reverses it to false. Example 3:1. The first logical comparison is true.2. The ! operator reverses it to false. If you're ready for the Quiz, click \"Yes\".", "related_lectures": []}, {"_class": "assessment", "id": 30384340, "assessment_type": "multiple-choice", "prompt": {"question": "<p>1. value of <code>comparison</code>? </p><pre class=\"prettyprint linenums\">String option = \"cash\";\nboolean comparison = (option.equals(\"cash\") || option.equals(\"credit\"));</pre><p><br></p><p>2. value of <code>comparison</code>?</p><pre class=\"prettyprint linenums\">String option = \"cash\";\nboolean comparison = !(option.equals(\"cash\") || option.equals(\"credit\"));</pre><p><br></p><p>3. value of <code>comparison</code>?</p><pre class=\"prettyprint linenums\">String option = \"neither\";\nboolean comparison = (option.equals(\"cash\") || option.equals(\"credit\"));</pre><p><br></p><p>4. value of <code>comparison</code>?</p><pre class=\"prettyprint linenums\">String option = \"neither\";\nboolean comparison = !(option.equals(\"cash\") || option.equals(\"credit\"));</pre><p><br></p>", "relatedLectureIds": "", "feedbacks": ["", "The trick is to evaluate the comparison by first ignoring the ' ! ' operator. Then, reverse the result if ' ! '  precedes the comparison.  ", "", ""], "answers": ["<p>1. <code>false</code></p><p>2. <code>false</code> </p><p>3. <code>true</code></p><p>4. <code>true</code> </p>", "<p>1. <code>true</code></p><p>2. <code>false</code> </p><p>3. <code>false</code></p><p>4. <code>true</code> </p>", "<p>1. <code>false</code></p><p>2. <code>true</code> </p><p>3. <code>false</code></p><p>4. <code>true</code> </p>", "<p>1. <code>false</code></p><p>2. <code>true</code> </p><p>3. <code>false</code></p><p>4. <code>false</code> </p>"]}, "correct_response": ["b"], "section": "", "question_plain": "1. value of comparison? String option = \"cash\";\nboolean comparison = (option.equals(\"cash\") || option.equals(\"credit\"));2. value of comparison?String option = \"cash\";\nboolean comparison = !(option.equals(\"cash\") || option.equals(\"credit\"));3. value of comparison?String option = \"neither\";\nboolean comparison = (option.equals(\"cash\") || option.equals(\"credit\"));4. value of comparison?String option = \"neither\";\nboolean comparison = !(option.equals(\"cash\") || option.equals(\"credit\"));", "related_lectures": []}, {"_class": "assessment", "id": 30384432, "assessment_type": "multiple-choice", "prompt": {"question": "<p>Which snippet of code can achieve the following outputs:</p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-12_03-59-19-7789cefa722d861efad4b83178005686.gif\">", "relatedLectureIds": "", "feedbacks": ["Is there another code that could work?", "Code 2 doesn't work because the condition will always be true and else will never get called.  Take a closer look at the condition:   1 \u2013  If the user enters hit, the second comparison is true, so the entire condition is true. 2 \u2013  If the user enters stay, the first comparison is true, so the entire condition is true.  3 \u2013 If the user doesn't write hit or stay, both comparisons are true, so the entire condition is true. ", "Is there another code that could work?", "Code 2 doesn't work because the condition will always be true and else will never get called.  Take a closer look at the condition:   1 \u2013  If the user enters hit, the second comparison is true, so the entire condition is true. 2 \u2013  If the user enters stay, the first comparison is true, so the entire condition is true.  3 \u2013 If the user doesn't write hit or stay, both comparisons are true, so the entire condition is true. ", "1.  Precisely! An animation of each runtime is provided in the next question. ", "Code 2 doesn't work because the condition will always be true and else will never get called.  Take a closer look at the condition:   1 \u2013  If the user enters hit, the second comparison is true, so the entire condition is true. 2 \u2013  If the user enters stay, the first comparison is true, so the entire condition is true.  3 \u2013 If the user doesn't write hit or stay, both comparisons are true, so the entire condition is true. "], "answers": ["<pre class=\"prettyprint linenums\">        System.out.println(\"Would you like to hit or stay?\");\n        \n        String option = scan.nextLine();\n\n        if (!option.equals(\"hit\") &amp;&amp; !option.equals(\"stay\")) {\n            System.out.println(\"\\nInvalid Option\");\n        } else {\n            System.out.println(\"\\nEnd Turn.\");\n        }</pre>", "<pre class=\"prettyprint linenums\">        System.out.println(\"Would you like to hit or stay?\");\n        \n        String option = scan.nextLine();\n\n        if (!option.equals(\"hit\") || !option.equals(\"stay\")) {\n            System.out.println(\"\\nInvalid Option\");\n        } else {\n            System.out.println(\"\\nEnd Turn.\");\n        }</pre>", "<pre class=\"prettyprint linenums\">        System.out.println(\"Would you like to hit or stay?\");\n        \n        String option = scan.nextLine();\n\n        if ( ! (option.equals(\"hit\") || option.equals(\"stay\"))) {\n            System.out.println(\"\\nInvalid Option\");\n        } else {\n            System.out.println(\"\\nEnd Turn.\");\n        }</pre>", "<p>All of the above</p>", "<p>Codes 1 and 3</p>", "<p>Codes 2 and 3</p>"]}, "correct_response": ["e"], "section": "", "question_plain": "Which snippet of code can achieve the following outputs:", "related_lectures": []}, {"_class": "assessment", "id": 30456138, "assessment_type": "multiple-choice", "prompt": {"question": "<p>Test case: <code>dunno</code>.</p><p>Animation of Code 1 </p><p><br></p><p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-12_04-06-51-c930bfe7a0792c18640a3e5910a544bd.gif\"></p><p>Animation of Code 3</p><p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-12_04-12-34-6b8f6995d225b7c9f432810c552522b9.gif\"></p><p><br></p><p>Test case: <code>stay</code>.</p><p>Animation of Code 1 </p><p><img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-12_04-16-56-f1160de1a5e9e9ea24a91c5e811b3eba.gif\"></p><p>Animation of Code 3<img src=\"https://img-c.udemycdn.com/redactor/raw/quiz_question/2021-03-12_04-20-40-faa8d008ae8cd43a8348ff931383104f.gif\"></p><p>Choose Yes when you're ready for the next workbook. </p>", "relatedLectureIds": "", "feedbacks": ["See you in Workbook 3.5!"], "answers": ["<p>Yes</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "Test case: dunno.Animation of Code 1 Animation of Code 3Test case: stay.Animation of Code 1 Animation of Code 3Choose Yes when you're ready for the next workbook.", "related_lectures": []}]};
      var correct = 0;
      var total = 0;
      const questionData = quizData.questions
      const passPercent = quizData.pass_percent

      function main() {
        total = questionData.length;

        var questions = [];
        for (var i = 0; i < questionData.length; i++) {
          var question = questionData[i];
          var questionText = question.prompt.question;
          var answers = question.prompt.answers;
          var correctAnswer = question.correct_response[0];
          var correctAnswerText = answers[correctAnswer.charCodeAt(0) - 97];
          var questionObj = {
            question: questionText,
            correctAnswer: correctAnswerText,
            answers: answers,
            id: question.id,
          };
          questions.push(questionObj);
        }

        updateScore();

        // display the questions
        var questionsContainer = document.getElementById("quiz-container");
        for (var i = 0; i < questions.length; i++) {
          var question = questions[i];
          var questionElement = document.createElement("form");
          questionElement.className = "question";
          questionElement.innerHTML =
            "<span>Question " +
            (i + 1) +
            ":</span>" +
            '<div class="question-prompt">' +
            question.question +
            "</div>";
          questionElement.id = question.id;
          questionElement.classList.add("quiz-container");
          var answersElement = document.createElement("ul");
          answersElement.className = "answers";
          for (var j = 0; j < question.answers.length; j++) {
            var answer = question.answers[j];
            var answerElement = document.createElement("li");
            answerElement.className = "answer";
            answerElement.innerHTML =
              '<label for="input-' +
              question.id +
              "-" +
              j +
              '"><div onclick="select(' +
              question.id +
              ", " +
              j +
              ')"><span></span><input id="input-' +
              question.id +
              "-" +
              j +
              '" type="radio" name="question' +
              i +
              '" value="' +
              j +
              '">' +
              answer +
              "</input></div></label>";
            answerElement.classList.add("question-answer");
            answersElement.appendChild(answerElement);
          }

          questionElement.appendChild(answersElement);

          // add a submit button
          var submitButton = document.createElement("button");
          submitButton.className = "submit";
          submitButton.innerHTML = "Submit";
          submitButton.classList.add("submit-button");

          submitButton.addEventListener("click", function (e) {
            e.preventDefault();
            var questionElement = e.target.parentElement;
            var questionId = questionElement.id;
            var question = questions.filter(function (q) {
              return q.id == questionId;
            })[0];

            // set the border color of all answers to black
            var answers = questionElement.getElementsByClassName("answer");
            for (var i = 0; i < answers.length; i++) {
              console.log(answers[i]);
              answers[i].children[0].classList.remove("correct", "incorrect");
            }

            var answer = questionElement.querySelector(
              'input[type="radio"]:checked'
            );
            if (answer) {
              var answerIndex = answer.value;
              var answerText = question.answers[answerIndex];
              if (answerText == question.correctAnswer) {
                answer.parentElement.parentElement.classList.add("correct");
                // 
                correct++;
                updateScore();
              } else {
                answer.parentElement.parentElement.classList.add("incorrect");
                // 
              }
            } else {
              alert("Please select an answer.");
            }
          });

          // add button
          questionElement.appendChild(submitButton);

          questionsContainer.appendChild(questionElement);
        }
      }

      function select(question, answer) {
        var questionElement = document.getElementById(question);
        var answers = questionElement.getElementsByClassName("answer");
        for (var i = 0; i < answers.length; i++) {
          var span = answers[i].children[0].children[0].children[0];
          var input = answers[i].children[0].children[0].children[1];
          span.classList.remove("selected");
          input.checked = false;
        }
        var span = answers[answer].children[0].children[0].children[0];
        var input = answers[answer].children[0].children[0].children[1];
        span.classList.add("selected");
        input.checked = true;
      }

      function updateScore() {
        var scoreElem = document.getElementById("score");
        const score = (correct / total) * 100;
        scoreElem.innerHTML = "Score: " + score.toFixed(0) + "/" + passPercent + "%";
      }
    </script>
  </body>
</html>
