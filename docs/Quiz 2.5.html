<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>

    <link rel="stylesheet" href="quiz-styles.css">
  </head>

  <body onload="main()">
    <a href="https://rslim087a.github.io/Java-Workbooks-Challenges/" class="back-button">‚Üê Back</a>    <div id="score" class="score">
      <span>Score: N/A of N/A</span>
    </div>
    <div id="quiz-container" class="quiz-content"></div>

    <script>
      const quizData = {"pass_percent": 70, "questions": [{"_class": "assessment", "id": 29337308, "assessment_type": "multiple-choice", "prompt": {"question": "<p>What is the value of each variable?</p><pre class=\"prettyprint linenums\">        Scanner scan = new Scanner(System.in);\n\n        int value1 = scan.nextInt();\n        int value2 = scan.nextInt();\n        int value3 = scan.nextInt();</pre><p><code>&gt;&gt;: 25&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;54</code></p><p><code>&gt;&gt;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;78 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code> </p>", "relatedLectureIds": "", "feedbacks": ["nextInt skips all the white space until it picks up the next integer", "", "out of order"], "answers": ["<p><code>value1: 25</code></p><p><code>value2: 54</code></p><p><code>value3: 78</code> </p>", "<p><code>ERROR</code> </p>", "<p><code>value1: 78</code></p><p><code>value2: 54</code></p><p><code>value3: 25</code> </p>"]}, "correct_response": ["a"], "section": "", "question_plain": "What is the value of each variable?        Scanner scan = new Scanner(System.in);\n\n        int value1 = scan.nextInt();\n        int value2 = scan.nextInt();\n        int value3 = scan.nextInt();&gt;&gt;: 25&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;54&gt;&gt;: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;78 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;", "related_lectures": []}, {"_class": "assessment", "id": 29337338, "assessment_type": "multiple-choice", "prompt": {"answers": ["<p><code>value1: 25</code></p><p><code>value2: 54</code></p><p><code>value3: 78.3</code></p><p><code>value4: 44.3</code></p><p><code>value5: 25</code></p><p><code>value6: 55.4</code></p><p><code>value7: 33.2</code> </p>", "<p><code>value1: 33.2</code></p><p><code>value2: 55.4</code></p><p><code>value3: 25</code></p><p><code>value4: 44.3</code></p><p><code>value5: 78.3</code></p><p><code>value6: 54</code></p><p><code>value7: 25</code> </p>", "<p><code>Error </code> </p>"], "feedbacks": ["each method skips the whitespace until it picks up the next value", "", ""], "question": "<p>What is the value of each variable?</p><pre class=\"prettyprint linenums\">        Scanner scan = new Scanner(System.in);\n\n        int value1 = scan.nextInt();\n        int value2 = scan.nextInt();\n        double value3 = scan.nextDouble();\n        double value4 = scan.nextDouble();\n        int value5 = scan.nextInt();\n        double value6 = scan.nextDouble();\n        double value7 = scan.nextDouble();</pre><p><code>&gt;&gt;: 25&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: 54&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: &nbsp; &nbsp; &nbsp;78.3&nbsp; &nbsp; &nbsp; 44.3&nbsp; &nbsp; &nbsp; &nbsp;25 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: &nbsp; &nbsp; &nbsp;55.4&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: 33.2&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code></p>", "relatedLectureIds": ""}, "correct_response": ["a"], "section": "", "question_plain": "What is the value of each variable?        Scanner scan = new Scanner(System.in);\n\n        int value1 = scan.nextInt();\n        int value2 = scan.nextInt();\n        double value3 = scan.nextDouble();\n        double value4 = scan.nextDouble();\n        int value5 = scan.nextInt();\n        double value6 = scan.nextDouble();\n        double value7 = scan.nextDouble();&gt;&gt;: 25&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: 54&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: &nbsp; &nbsp; &nbsp;78.3&nbsp; &nbsp; &nbsp; 44.3&nbsp; &nbsp; &nbsp; &nbsp;25 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: &nbsp; &nbsp; &nbsp;55.4&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: 33.2&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;", "related_lectures": []}, {"_class": "assessment", "id": 29337354, "assessment_type": "multiple-choice", "prompt": {"question": "<p>What is the value of each variable?</p><pre class=\"prettyprint linenums\">        Scanner scan = new Scanner(System.in);\n\n        String line1 = scan.nextLine();\n        String line2 = scan.nextLine();\n        String line3 = scan.nextLine();\n        String line4 = scan.nextLine();\n        String line5 = scan.nextLine();</pre><p><code>&gt;&gt;: 25&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: 54&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: &nbsp; &nbsp; &nbsp;78.3&nbsp; &nbsp; &nbsp; 44.3&nbsp; &nbsp; &nbsp; &nbsp;25 &nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: &nbsp; &nbsp; &nbsp;55.4&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </code></p><p><code>&gt;&gt;: 33.2&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </code></p>", "feedbacks": ["", "nextLine captures every value on the next line including all the whitespace between each value. ", ""], "answers": ["<p><code>line1: 25</code></p><p><code>line2: 54</code></p><p><code>line3:&nbsp;78.3</code> </p><p><code>line4:&nbsp;44.3</code> </p><p><code>line5: 25</code> </p>", "<p><code>line1: 25</code></p><p><code>line2: 54</code></p><p><code>line3:&nbsp; &nbsp; &nbsp; &nbsp;78.3&nbsp; &nbsp; &nbsp; 44.3&nbsp; &nbsp; &nbsp; &nbsp;25</code> </p><p><code>line4:&nbsp; &nbsp; &nbsp; &nbsp;55.4</code> </p><p><code>line5: 33.2</code> </p>", "<p>ERROR</p>"], "relatedLectureIds": ""}, "correct_response": ["b"], "section": "", "question_plain": "What is the value of each variable?        Scanner scan = new Scanner(System.in);\n\n        String line1 = scan.nextLine();\n        String line2 = scan.nextLine();\n        String line3 = scan.nextLine();\n        String line4 = scan.nextLine();\n        String line5 = scan.nextLine();&gt;&gt;: 25&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: 54&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: &nbsp; &nbsp; &nbsp;78.3&nbsp; &nbsp; &nbsp; 44.3&nbsp; &nbsp; &nbsp; &nbsp;25 &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: &nbsp; &nbsp; &nbsp;55.4&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt;: 33.2&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;", "related_lectures": []}, {"_class": "assessment", "id": 29337374, "assessment_type": "multiple-choice", "prompt": {"question": "<p>What's wrong here?</p><pre class=\"prettyprint linenums\">int value = scan.nextInt();\nString sentence = scan.nextLine();</pre>", "feedbacks": ["", ""], "relatedLectureIds": "", "answers": ["<p>Nothing to see here... </p>", "<p>This is the <code>scan.nextLine()</code> trap. </p><p><strong>Trap</strong>: when <code>nextLine</code> is ahead of <code>nextInt</code>, <code>nextDouble</code>, <code>nextLong</code>, or <code>next</code> </p><p><strong>Pitfall</strong>: <code>nextLine</code> is wasted on an empty line. </p><p><strong>Solution</strong>: add a throwaway <code>nextLine</code> before the real <code>nextLine</code>. </p>"]}, "correct_response": ["b"], "section": "", "question_plain": "What's wrong here?int value = scan.nextInt();\nString sentence = scan.nextLine();", "related_lectures": []}]};
      var correct = 0;
      var total = 0;
      const questionData = quizData.questions
      const passPercent = quizData.pass_percent

      function main() {
        total = questionData.length;

        var questions = [];
        for (var i = 0; i < questionData.length; i++) {
          var question = questionData[i];
          var questionText = question.prompt.question;
          var answers = question.prompt.answers;
          var correctAnswer = question.correct_response[0];
          var correctAnswerText = answers[correctAnswer.charCodeAt(0) - 97];
          var questionObj = {
            question: questionText,
            correctAnswer: correctAnswerText,
            answers: answers,
            id: question.id,
          };
          questions.push(questionObj);
        }

        updateScore();

        // display the questions
        var questionsContainer = document.getElementById("quiz-container");
        for (var i = 0; i < questions.length; i++) {
          var question = questions[i];
          var questionElement = document.createElement("form");
          questionElement.className = "question";
          questionElement.innerHTML =
            "<span>Question " +
            (i + 1) +
            ":</span>" +
            '<div class="question-prompt">' +
            question.question +
            "</div>";
          questionElement.id = question.id;
          questionElement.classList.add("quiz-container");
          var answersElement = document.createElement("ul");
          answersElement.className = "answers";
          for (var j = 0; j < question.answers.length; j++) {
            var answer = question.answers[j];
            var answerElement = document.createElement("li");
            answerElement.className = "answer";
            answerElement.innerHTML =
              '<label for="input-' +
              question.id +
              "-" +
              j +
              '"><div onclick="select(' +
              question.id +
              ", " +
              j +
              ')"><span></span><input id="input-' +
              question.id +
              "-" +
              j +
              '" type="radio" name="question' +
              i +
              '" value="' +
              j +
              '">' +
              answer +
              "</input></div></label>";
            answerElement.classList.add("question-answer");
            answersElement.appendChild(answerElement);
          }

          questionElement.appendChild(answersElement);

          // add a submit button
          var submitButton = document.createElement("button");
          submitButton.className = "submit";
          submitButton.innerHTML = "Submit";
          submitButton.classList.add("submit-button");

          submitButton.addEventListener("click", function (e) {
            e.preventDefault();
            var questionElement = e.target.parentElement;
            var questionId = questionElement.id;
            var question = questions.filter(function (q) {
              return q.id == questionId;
            })[0];

            // set the border color of all answers to black
            var answers = questionElement.getElementsByClassName("answer");
            for (var i = 0; i < answers.length; i++) {
              console.log(answers[i]);
              answers[i].children[0].classList.remove("correct", "incorrect");
            }

            var answer = questionElement.querySelector(
              'input[type="radio"]:checked'
            );
            if (answer) {
              var answerIndex = answer.value;
              var answerText = question.answers[answerIndex];
              if (answerText == question.correctAnswer) {
                answer.parentElement.parentElement.classList.add("correct");
                // 
                correct++;
                updateScore();
              } else {
                answer.parentElement.parentElement.classList.add("incorrect");
                // 
              }
            } else {
              alert("Please select an answer.");
            }
          });

          // add button
          questionElement.appendChild(submitButton);

          questionsContainer.appendChild(questionElement);
        }
      }

      function select(question, answer) {
        var questionElement = document.getElementById(question);
        var answers = questionElement.getElementsByClassName("answer");
        for (var i = 0; i < answers.length; i++) {
          var span = answers[i].children[0].children[0].children[0];
          var input = answers[i].children[0].children[0].children[1];
          span.classList.remove("selected");
          input.checked = false;
        }
        var span = answers[answer].children[0].children[0].children[0];
        var input = answers[answer].children[0].children[0].children[1];
        span.classList.add("selected");
        input.checked = true;
      }

      function updateScore() {
        var scoreElem = document.getElementById("score");
        const score = (correct / total) * 100;
        scoreElem.innerHTML = "Score: " + score.toFixed(0) + "/" + passPercent + "%";
      }
    </script>
  </body>
</html>
